<!-- <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>RIYADVI360 - Interior Design HTML Template</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="./headerfooterstyle.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href=https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css rel="stylesheet">
    <script src=https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js></script>

</head>

<body>

<div id="signup" style="display: none;">
    <div class="registermain">
        
          <div class="registerimage" style="background-color: aqua; z-index: -1;">
            
            <img src="loginimage.jpg" width="700px" height="700px" style="border: #24a9eb 4px solid;">
         
          </div>
          <h1 style="position: absolute; margin-left: 250px; z-index: -1; margin-bottom: 300px; color: #006b83; font-weight: bolder;"> Welcome Back! </h1>

          <h4 style="position: absolute; margin-left: 230px; z-index: -1; margin-top: 110px; color: #000000; margin-bottom: 280px; font-weight:700; text-align: center;"> To keep connected with us please <br> login with your personal info </h4>

      <div class="registerform">
    
       <div style="text-align: left;"> <h3 style="color: #24a9eb;">Registration Form</h3></div>
    
        <div class="block1">
    
          <input type="text" id="username" placeholder="Username" required>
    
        </div>
        <div class="block1">
    
          <input type="email" id="email" placeholder="Enter Email address" pattern=".+@gmail.com"  required>

        </div>
        <div class="block1">
    
          <input type="password" id="password" placeholder="Password" required>
    
        </div>
        <div class="block1">

          <button onclick="signupform()" class="btn-hover">Register User</button>

        </div>
    
        <p style="text-align: left; margin-top: 20px; color: #ffffff;">Already a member? <a style="color: #24a9eb;" href="#" onclick="registeralready()">Log in</a></p>
    
      </div>
      </div>

    </div>
    

    <div id="login" style="display: block;">
    <div class="loginmain">
    
        <div class="registerimage" style="background-color: aqua; z-index: -1;">
            
            <img src="loginimage.jpg" width="700px" height="700px" style="border: #24a9eb 4px solid;">
         
          </div>
          <h1 style="position: absolute; margin-left: 250px; z-index: -1; margin-bottom: 300px; color: #006b83; font-weight: bolder;"> Welcome Back! </h1>

          <h4 style="position: absolute; margin-left: 230px; z-index: -1; margin-top: 110px; color: #000000; margin-bottom: 280px; font-weight:700; text-align: center;"> To keep connected with us please <br> login with your personal info </h4>
    
      <div class="loginform">
    
       <div style="text-align: left;"> <h3 style="color: #24a9eb;">Login Form</h3></div>
    
      
        <div class="block1">
    
          <input type="text" id="email1" name="email" placeholder="Email" pattern=".+@gmail.com" required>
        </div>
        <div class="block1">
    
          <input type="password" id="password1" name="password" placeholder="Password" required>
    
        </div>
        <div class="block1">
          <button onclick="loginform()" class="btn-hover">Login</button>
        </div>
    
        <p style="text-align: left; margin-top: 20px; color: #ffffff;">Not a register user? <a style="color: #24a9eb;" href="#" onclick="pleasesignup()">Sign Up</a></p>
    
      </div>
    </div>
  </div>
  <script src="./index.js"></script>
  </body>

  </html> -->

  <!DOCTYPE html>

<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
   
      <meta content="width=device-width, initial-scale=1.0" name="viewport">
      <title>Login</title>
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
      <link rel="stylesheet" href="./css/signuplogin.css">
   </head>
   <body>
      <div class="bg-img" id="login">
         <div class="content">
            <header>Login</header>
            <!-- <form action="#" onsubmit="loginform()">    -->
               <div class="field">
                  <span class="fa fa-user"></span>
                  <div class="block1">
    
                    <input type="text" id="email1" name="email" placeholder="Email" pattern=".+@gmail.com" required>
                  </div>
               </div>
               <div class="field space">
                  <span class="fa fa-lock"></span>
                  <div class="block1">                   
                    <input type="password" id="password1" name="password" placeholder="Password" required> 
                    <img id="toggleIcon1" class="toggle-icon" src="https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-closed.svg"  onclick="togglePasswordVisibility1()" width="20px" height="20px">
                  </div>                
                  </div>
                      
               <div class="field" style="margin-top: 25px;">
                  <input type="submit" onclick="loginform()" value="LOGIN">
               </div>   
               <!-- </form>    -->
            <div class="signup" style="  display: flex;
            justify-content: space-between;">
              <a onclick="forgot()" style="color: white;">Forgot Password?</a>
               <a onclick="pleasesignup()">Signup Now</a>
            </div>
         </div>
      </div>
      

      <div class="bg-img" id="signup" style="display: none;">
        <div class="content">
           <header>Signup</header>
           <form action="#" onsubmit="signupform()">      
              <div class="field">
                 <span class="fa fa-user"></span>
                 <div class="block1">    
                  <input type="text" id="username" placeholder="Username" required>         
                </div>
              </div>
              <div class="field space">
                <span class="fa fa-lock"></span>
                <div class="block1">
    
                  <input type="email" id="email" placeholder="Enter Email address" pattern=".+@gmail.com"  required>
                </div>           
             </div>

             
          
              <div class="field space">
                <span class="fa fa-lock"></span>
                <div class="block1">
                  <input type="password" id="passwords" placeholder="Password" required>
                  <img id="toggleIcon" class="toggle-icon" src="https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-closed.svg"  onclick="togglePasswordVisibility()" width="20px" height="20px">
                  <!-- <div class="my-3"> -->
                    <div id="message" style="color: red; margin-top: 2px; display: none;">Loading</div>
                    <!-- <div class="error-message"></div>
                    <div class="sent-message">Your message has been sent. Thank you!</div> -->
                  <!-- </div> -->
                </div>
              </div>
              <div class="field" style="margin-top: 25px;">
                 <input id="validate" type="submit" value="SIGNUP">
              </div>
            </form>
           <div class="signup">
              Already have account?
              <a onclick="registeralready()">Login Now</a>
           </div>
        </div>
     </div>



 <div class="bg-img" id="forgot" style="display:none">
         <div class="content">
            <header>Your Registered Email</header>
          
               <div class="field">
                  <span class="fa fa-user"></span>
                  <div class="block1">
    
                    <input type="text" id="email2" name="email" placeholder="Email" pattern=".+@gmail.com" required>
                  </div>
               </div>
         
               <div class="field" style="margin-top: 25px;">
                  <input type="submit" onclick="sendOTP()" value="Send OTP">
               </div>      
          
         </div>
      </div>


      <div class="bg-img" id="newpass" style="display: none;">
        <div class="content">
           <header>We have sent OTP to your email</header>
         
              <div class="field">
                 <span class="fa fa-user"></span>
                 <div class="block1">  
                   <input type="text" id="otp" name="Enter OTP here" placeholder="Enter OTP here" pattern=".+@gmail.com" required>
                 </div>
               </div>

                 <div class="field space">
                  <span class="fa fa-lock"></span>
                  <div class="block1">               
                  <input type="password" id="newPassword" name="new" placeholder="New Password" required>
                  <img id="toggleIcon2" class="toggle-icon" src="https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-closed.svg"  onclick="togglePasswordVisibility2()" width="20px" height="20px">
                </div>
             </div>
           
              <div class="field" style="margin-top: 25px;">
                 <input type="submit" onclick="resetPassword()" value="Verify">
              </div>            
        </div>
     </div>


<script>

function togglePasswordVisibility() {
  var passwordField = document.getElementById("passwords");
  var icon = document.getElementById("toggleIcon");

  if (passwordField.type === "password") {
    passwordField.type = "text";
    icon.setAttribute("src", "https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-open.svg");
  } 
  
  else  {
    passwordField.type = "password";
    icon.setAttribute("src", "https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-closed.svg");
  }
  
}

function togglePasswordVisibility1() {
  var passwordField = document.getElementById("password1");
  var icon = document.getElementById("toggleIcon1");

  if (passwordField.type === "password") {
    passwordField.type = "text";
    icon.setAttribute("src", "https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-open.svg");
  } 
  
  else  {
    passwordField.type = "password";
    icon.setAttribute("src", "https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-closed.svg");
  }
  
}

function togglePasswordVisibility2() {
  var passwordField = document.getElementById("newPassword");
  var icon = document.getElementById("toggleIcon2");

  if (passwordField.type === "password") {
    passwordField.type = "text";
    icon.setAttribute("src", "https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-open.svg");
  } 
  
  else  {
    passwordField.type = "password";
    icon.setAttribute("src", "https://jabez-tiles.s3.ap-south-1.amazonaws.com/eye-closed.svg");
  }
  
}

</script>
     


<script>

function forgot() {
  document.getElementById("forgot").style.display = "block";
  document.getElementById("login").style.display = "none";
}

</script>


<script>
     function sendOTP() {
  var email = document.getElementById('email2').value;
  
  // Make a POST request to the backend to send the OTP
  fetch('https://newtiles-env.eba-mdsv5qca.ap-south-1.elasticbeanstalk.com/users/forgot-password', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ email: email })
  })
  .then(response => response.text()) // Parse response as plain text
    .then(data => {
        if (data.includes('OTP sent')) {
            alert('OTP sent to your email. Please check your inbox.');
            document.getElementById("newpass").style.display = "block";
            document.getElementById("forgot").style.display = "none";
        } else {
            alert('Failed to send OTP. Please try again.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}
     </script> 



<script>
function resetPassword() {
var otp = document.getElementById('otp').value;
var newPassword = document.getElementById('newPassword').value;

const data = { otp: otp, password: newPassword };
// Make a POST request to the backend to reset the password
fetch('https://newtiles-env.eba-mdsv5qca.ap-south-1.elasticbeanstalk.com/users/verify-otp', {
  credentials: 'same-origin',
      method: 'POST',
      redirect: 'follow',
      body: JSON.stringify(data),
      headers: { 'Content-Type': 'application/json', },
    })
    .then(response => response.text()) // Parse response as plain text
    .then(data => {
        if (data.includes('successfully')) {
          document.getElementById("login").style.display = "block";
          document.getElementById("newpass").style.display = "none";
        } else {
            alert('Failed. Please try again.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}
  </script>


<script>
   var pw3 = document.getElementById("validate"); 
 
  pw3.addEventListener("click", verifyPassword);
  //check empty password field  
  function verifyPassword() { 

    var pw = document.getElementById("passwords").value;  
    document.getElementById("message").style.display = "block"; 

  if(pw == "") {  
    
     document.getElementById("message").innerHTML = "**Fill the password please!";  
     return false;  
  }  
   
 //minimum password length validation  
  if(pw.length < 8) {  
     document.getElementById("message").innerHTML = "**Password length must be atleast 8 characters";  
     return false;  
  }  
  
//maximum length of password validation  
  if(pw.length > 15) {  
     document.getElementById("message").innerHTML = "**Password length must not exceed 15 characters";  
     return false;  
  } 

  }

</script>


     <script src="./Mainjavascript/index.js"></script>
   </body>
</html>